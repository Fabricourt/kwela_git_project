{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block title %} | Browse Property Listings {% endblock %}

{% block content %}

<section class="w3-padding-large w3-hide-small parallax">
  <br><br><br><br>

  <div class="w3-2019-evening-blue w3-opacity-min container  w3-center w3-text-white">   
    <h1 class="display-4 mb-4  wow fadeInUp  ">
         <span class="w3-xxxlarge">Search</span> 
          <hr class="w3-aqua" style="width:100%">
          <p class="lead  w3-xlarge">What you seek you will find</p>

         
{% include 'partials/_searchform.html' %}
<br>
</div>   


</section>

<section class=" w3-hide-large w3-hide-medium parallax">


  <div class="w3-2019-evening-blue w3-opacity-min container  w3-center w3-text-white">   
    <h1 class="display-4 mb-4  wow fadeInUp  ">
    <br>
         <span class="w3-xxxlarge">Search</span> 
          <hr class="w3-aqua" style="width:100%">
          <p class="lead  w3-xlarge">What you seek you will find</p>

         
{% include 'partials/_searchform.html' %}
<br>
</div>   
</section>


  <!-- First Photo Grid-->
  <div class=" container w3-padding  w3-margin-top w3-round">
  
    <div id="listings" class="py-5">
      <div class="container">
      <h3 class="text-center mb-3">Latest Listings</h3>
          <div class="row">

                  {% if listings %}
                  {% for listing in listings %}
                  
                      <!--overlay-->
                      {% include 'partials/_listings.html' %}
              
                  {% endfor %}
                  {% else %}
                      <div class="col-md-12">
                      
                      <p>No Plots listings Available</p>
                      </div>
              {% endif %}
          </div>
      </div>
  
</div>

  <div class="container">
      <div class="row w3-margin-top">
        <div class="col-md-12 w3-content w3-text-amber w3-theme-l4">
          {% if listings.has_other_pages %}
            <ul class="pagination">
              {% if listings.has_previous %}
                <li class="page-item">
                  <a href="?page={{listings.previous_page_number}}" class="page-link">&laquo;</a>
                </li>
              {% else %}
                <li class="page-item disabled">
                  <a class="page-link">&laquo;</a>
                </li>
              {% endif %}
              {% for i in listings.paginator.page_range %}
                {% if listings.number == i %}
                  <li class="page-item active">
                    <a class="page-link">{{i}}</a>
                  </li>
                {% else %}
                  <li class="page-item">
                    <a href="?page={{i}}" class="page-link">{{i}}</a>
                  </li>
                {% endif %}
              {% endfor %}
              {% if listings.has_next %}
                <li class="page-item">
                  <a href="?page={{listings.next_page_number}}" class="page-link">&raquo;</a>
                </li>
              {% else %}
                <li class="page-item disabled">
                  <a class="page-link">&raquo;</a>
                </li>
              {% endif %}
            </ul>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
    
    <br><br> <br><br>


{% endblock %}